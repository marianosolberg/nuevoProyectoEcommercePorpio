{"ast":null,"code":"import _toConsumableArray from\"/home/mariano/nuevoEcommerce/front/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/mariano/nuevoEcommerce/front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"./OneProducts.css\";import{useState,useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";//ACTIONS\nimport{getProductDetails}from\"../redux/actions/productActions\";import{addToCart}from\"../redux/actions/cartAction\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var OneProduct=function OneProduct(_ref){var match=_ref.match,history=_ref.history;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var dispatch=useDispatch();//traigo el estado del store y desestructuro las propiedades de las acciones de los reducers\nvar productsDetails=useSelector(function(state){return state.getProductDetail;});var loading=productsDetails.loading,error=productsDetails.error,product=productsDetails.product;useEffect(function(){//si hay produc y el match id es distinto ahi envio la accion de nuevo, sino no\nif(product&&match.params.id!==product._id){dispatch(getProductDetails(match.params.id));}},[dispatch,product,match]);var add=function add(){dispatch(addToCart(product._id,qty));history.push(\"/cart\");};return/*#__PURE__*/_jsx(\"div\",{className:\"prod\",children:loading?/*#__PURE__*/_jsx(\"h2\",{children:\"Cargando...\"}):error?/*#__PURE__*/_jsx(\"h2\",{children:error}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"product-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"image-left\",children:/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"left-info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"left-name\",children:product.name}),/*#__PURE__*/_jsx(\"p\",{children:product.description})]}),/*#__PURE__*/_jsx(\"div\",{className:\"product-right\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"right-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"precio: \",/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",product.price]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"status:\",\" \",/*#__PURE__*/_jsx(\"span\",{children:product.stock>0?\"En Stock\":\"sin Stock\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"cantidad:\",/*#__PURE__*/_jsx(\"select\",{value:qty,onChange:function onChange(e){return setQty(e.target.value);},children:_toConsumableArray(Array(product.stock).keys()).map(function(elem){return/*#__PURE__*/_jsx(\"option\",{value:elem+1,children:elem+1},elem+1);})})]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:add,children:\"Anadir al carrito\"})})]})})]})})});};export default OneProduct;","map":{"version":3,"sources":["/home/mariano/nuevoEcommerce/front/src/Screens/OneProduct.jsx"],"names":["useState","useEffect","useSelector","useDispatch","getProductDetails","addToCart","OneProduct","match","history","qty","setQty","dispatch","productsDetails","state","getProductDetail","loading","error","product","params","id","_id","add","push","image","name","description","price","stock","e","target","value","Array","keys","map","elem"],"mappings":"kPAAA,MAAO,mBAAP,CACA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CAEA;AACA,OAASC,iBAAT,KAAkC,iCAAlC,CACA,OAASC,SAAT,KAA0B,6BAA1B,C,6IAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAwB,IAArBC,CAAAA,KAAqB,MAArBA,KAAqB,CAAdC,OAAc,MAAdA,OAAc,CACzC,cAAsBR,QAAQ,CAAC,CAAD,CAA9B,wCAAOS,GAAP,eAAYC,MAAZ,eACA,GAAMC,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CAEA;AACA,GAAMS,CAAAA,eAAe,CAAGV,WAAW,CAAC,SAACW,KAAD,QAAWA,CAAAA,KAAK,CAACC,gBAAjB,EAAD,CAAnC,CACA,GAAQC,CAAAA,OAAR,CAAoCH,eAApC,CAAQG,OAAR,CAAiBC,KAAjB,CAAoCJ,eAApC,CAAiBI,KAAjB,CAAwBC,OAAxB,CAAoCL,eAApC,CAAwBK,OAAxB,CAEAhB,SAAS,CAAC,UAAM,CACd;AACA,GAAIgB,OAAO,EAAIV,KAAK,CAACW,MAAN,CAAaC,EAAb,GAAoBF,OAAO,CAACG,GAA3C,CAAgD,CAC9CT,QAAQ,CAACP,iBAAiB,CAACG,KAAK,CAACW,MAAN,CAAaC,EAAd,CAAlB,CAAR,CACD,CACF,CALQ,CAKN,CAACR,QAAD,CAAWM,OAAX,CAAoBV,KAApB,CALM,CAAT,CAOA,GAAMc,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,CAChBV,QAAQ,CAACN,SAAS,CAACY,OAAO,CAACG,GAAT,CAAcX,GAAd,CAAV,CAAR,CACAD,OAAO,CAACc,IAAR,CAAa,OAAb,EACD,CAHD,CAKA,mBACE,YAAK,SAAS,CAAC,MAAf,UACGP,OAAO,cACN,mCADM,CAEJC,KAAK,cACP,oBAAKA,KAAL,EADO,cAGP,sCACE,aAAK,SAAS,CAAC,cAAf,wBACE,YAAK,SAAS,CAAC,YAAf,uBACE,YAAK,GAAG,CAAEC,OAAO,CAACM,KAAlB,CAAyB,GAAG,CAAEN,OAAO,CAACO,IAAtC,EADF,EADF,cAIE,aAAK,SAAS,CAAC,WAAf,wBACE,UAAG,SAAS,CAAC,WAAb,UAA0BP,OAAO,CAACO,IAAlC,EADF,cAGE,mBAAIP,OAAO,CAACQ,WAAZ,EAHF,GAJF,cASE,YAAK,SAAS,CAAC,eAAf,uBACE,aAAK,SAAS,CAAC,YAAf,wBACE,6CACU,4BAAQR,OAAO,CAACS,KAAhB,GADV,GADF,cAIE,+BACU,GADV,cAEE,sBAAOT,OAAO,CAACU,KAAR,CAAgB,CAAhB,CAAoB,UAApB,CAAiC,WAAxC,EAFF,GAJF,cAQE,8CAEE,eAAQ,KAAK,CAAElB,GAAf,CAAoB,QAAQ,CAAE,kBAACmB,CAAD,QAAOlB,CAAAA,MAAM,CAACkB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,EAA9B,UACG,mBAAIC,KAAK,CAACd,OAAO,CAACU,KAAT,CAAL,CAAqBK,IAArB,EAAJ,EAAiCC,GAAjC,CAAqC,SAACC,IAAD,qBACpC,eAAuB,KAAK,CAAEA,IAAI,CAAG,CAArC,UACGA,IAAI,CAAG,CADV,EAAaA,IAAI,CAAG,CAApB,CADoC,EAArC,CADH,EAFF,GARF,cAkBE,gCACE,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAEb,GAA/B,+BADF,EAlBF,GADF,EATF,GADF,EANJ,EADF,CAgDD,CApED,CAsEA,cAAef,CAAAA,UAAf","sourcesContent":["import \"./OneProducts.css\";\nimport { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\n//ACTIONS\nimport { getProductDetails } from \"../redux/actions/productActions\";\nimport { addToCart } from \"../redux/actions/cartAction\";\n\nconst OneProduct = ({ match, history }) => {\n  const [qty, setQty] = useState(1);\n  const dispatch = useDispatch();\n\n  //traigo el estado del store y desestructuro las propiedades de las acciones de los reducers\n  const productsDetails = useSelector((state) => state.getProductDetail);\n  const { loading, error, product } = productsDetails;\n\n  useEffect(() => {\n    //si hay produc y el match id es distinto ahi envio la accion de nuevo, sino no\n    if (product && match.params.id !== product._id) {\n      dispatch(getProductDetails(match.params.id));\n    }\n  }, [dispatch, product, match]);\n\n  const add = () => {\n    dispatch(addToCart(product._id, qty));\n    history.push(\"/cart\");\n  };\n\n  return (\n    <div className=\"prod\">\n      {loading ? (\n        <h2>Cargando...</h2>\n      ) : error ? (\n        <h2>{error}</h2>\n      ) : (\n        <>\n          <div className=\"product-left\">\n            <div className=\"image-left\">\n              <img src={product.image} alt={product.name} />\n            </div>\n            <div className=\"left-info\">\n              <p className=\"left-name\">{product.name}</p>\n\n              <p>{product.description}</p>\n            </div>\n            <div className=\"product-right\">\n              <div className=\"right-info\">\n                <p>\n                  precio: <span>${product.price}</span>\n                </p>\n                <p>\n                  status:{\" \"}\n                  <span>{product.stock > 0 ? \"En Stock\" : \"sin Stock\"}</span>\n                </p>\n                <p>\n                  cantidad:\n                  <select value={qty} onChange={(e) => setQty(e.target.value)}>\n                    {[...Array(product.stock).keys()].map((elem) => (\n                      <option key={elem + 1} value={elem + 1}>\n                        {elem + 1}\n                      </option>\n                    ))}\n                  </select>\n                </p>\n                <p>\n                  <button type=\"button\" onClick={add}>\n                    Anadir al carrito\n                  </button>\n                </p>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default OneProduct;\n"]},"metadata":{},"sourceType":"module"}